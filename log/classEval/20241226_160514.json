{"response body": {"id": "eb0474d8-d492-4273-8586-86690b66dd87", "object": "chat.completion", "model": "gpt-4-32k", "created": "2024-12-26 16:05:17", "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant", "content": "\"\"\"\nThis class provides utility functions for regular expressions (regex) operations like matching, finding, splitting, and substituting text.\nIt also includes functions to generate regex patterns for email and phone number, split sentences, validate phone numbers, and extract emails.\n\"\"\"\n\nimport re\n\n\nclass RegexUtils:\n\n    def match(self, pattern, text):\n        \"\"\"\n        Checks whether the text matches the given regex pattern.\n\n        Parameters:\n            pattern (str): The regex pattern to match.\n            text (str): The text to check.\n\n        Returns:\n            bool: True if the text matches the pattern; False otherwise.\n\n        Test cases:\n            # Test case 1: Matching text\n            assert match('\\d+', '123') == True\n\n            # Test case 2: Non-matching text\n            assert match('\\d+', 'abc') == False\n\n            # Test case 3: Empty text\n            assert match('\\d+', '') == False\n        \"\"\"\n        ans = re.match(pattern, text)\n        if ans:\n            return True\n        else:\n            return False\n\n    def findall(self, pattern, text):\n        \"\"\"\n        Finds all occurrences of the pattern in the text.\n\n        Parameters:\n            pattern (str): The regex pattern to find.\n            text (str): The text to check.\n\n        Returns:\n            list: A list of all occurrences of the pattern in the text.\n\n        Test cases:\n            # Test case 1: Multiple occurrences\n            assert findall('\\d+', '123 abc 456 def') == ['123', '456']\n\n            # Test case 2: No occurrence\n            assert findall('\\d+', 'abc def') == []\n\n            # Test case 3: Empty text\n            assert findall('\\d+', '') == []\n        \"\"\"\n        return re.findall(pattern, text)\n\n    def split(self, pattern, text):\n        \"\"\"\n        Splits the text by the given pattern.\n\n        Parameters:\n            pattern (str): The regex pattern to split by.\n            text (str): The text to split.\n\n        Returns:\n            list: A list of the text split by the pattern.\n\n        Test cases:\n            # Test case 1: Splitting by spaces\n            assert split('\\s+', 'abc def ghi') == ['abc', 'def', 'ghi']\n\n            # Test case 2: Splitting by non-existing pattern\n            assert split('\\d+', 'abc def ghi') == ['abc def ghi']\n\n            # Test case 3: Empty text\n            assert split('\\s+', '') == ['']\n        \"\"\"\n        return re.split(pattern, text)\n\n    def sub(self, pattern, replacement, text):\n        \"\"\"\n        Substitutes all occurrences of the pattern in the text with the replacement.\n\n        Parameters:\n            pattern (str): The regex pattern to replace.\n            replacement (str): The text to replace the pattern with.\n            text (str): The text to modify.\n\n        Returns:\n            str: The text with all occurrences of the pattern replaced with the replacement.\n\n        Test cases:\n            # Test case 1: Replacing existing pattern\n            assert sub('\\d+', 'number', '123 abc 456 def') == 'number abc number def'\n\n            # Test case 2: Replacing non-existing pattern\n            assert sub('\\d+', 'number', 'abc def') == 'abc def'\n\n            # Test case 3: Empty text\n            assert sub('\\d+', 'number', '') == ''\n        \"\"\"\n        return re.sub(pattern, replacement, text)\n\n    def generate_email_pattern(self):\n        \"\"\"\n        Generates a regex pattern for an email.\n\n        Returns:\n            str: The regex pattern for an email.\n\n        Test cases:\n            # Test case 1: Valid email\n            assert match(generate_email_pattern(), 'test@example.com') == True\n\n            # Test case 2: Invalid email\n            assert match(generate_email_pattern(), 'test@.com') == False\n\n            # Test case 3: Empty email\n            assert match(generate_email_pattern(), '') == False\n        \"\"\"\n        pattern = r'\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b'\n        return pattern\n\n    def generate_phone_number_pattern(self):\n        \"\"\"\n        Generates a regex pattern for a phone number.\n\n        Returns:\n            str: The regex pattern for a phone number.\n\n        Test cases:\n            # Test case 1: Valid phone number\n            assert match(generate_phone_number_pattern(), '123-456-7890') == True\n\n            # Test case 2: Invalid phone number\n            assert match(generate_phone_number_pattern(), '1234567890') == False\n\n            # Test case 3: Empty phone number\n            assert match(generate_phone_number_pattern(), '') == False\n        \"\"\"\n        pattern = r'\\b\\d{3}-\\d{3}-\\d{4}\\b'\n        return pattern\n\n    def generate_split_sentences_pattern(self):\n        \"\"\"\n        Generates a regex pattern for splitting sentences.\n\n        Returns:\n            str: The regex pattern for splitting sentences.\n\n        Test cases:\n            # Test case 1: Multiple sentences\n            assert split(generate_split_sentences_pattern(), 'Hello. How are you? I am fine.') == ['Hello.', 'How are you?', 'I am fine.']\n\n            # Test case 2: Single sentence\n            assert split(generate_split_sentences_pattern(), 'Hello.') == ['Hello.']\n\n            # Test case 3: No sentence\n            assert split(generate_split_sentences_pattern(), '') == ['']\n        \"\"\"\n        pattern = r'[.!?][\\s]{1,2}(?=[A-Z])'\n        return pattern\n\n    def split_sentences(self, text):\n        \"\"\"\n        Splits the text into sentences.\n\n        Parameters:\n            text (str): The text to split.\n\n        Returns:\n            list: A list of sentences in the text.\n\n        Test cases:\n            # Test case 1: Multiple sentences\n            assert split_sentences('Hello. How are you? I am fine.') == ['Hello.', 'How are you?', 'I am fine.']\n\n            # Test case 2: Single sentence\n            assert split_sentences('Hello.') == ['Hello.']\n\n            # Test case 3: No sentence\n            assert split_sentences('') == ['']\n        \"\"\"\n        pattern = self.generate_split_sentences_pattern()\n        return self.split(pattern, text)\n\n    def validate_phone_number(self, phone_number):\n        \"\"\"\n        Checks whether the phone number is valid.\n\n        Parameters:\n            phone_number (str): The phone number to check.\n\n        Returns:\n            bool: True if the phone number is valid; False otherwise.\n\n        Test cases:\n            # Test case 1: Valid phone number\n            assert validate_phone_number('123-456-7890') == True\n\n            # Test case 2: Invalid phone number\n            assert validate_phone_number('1234567890') == False\n\n            # Test case 3: Empty phone number\n            assert validate_phone_number('') == False\n        \"\"\"\n        pattern = self.generate_phone_number_pattern()\n        return self.match(pattern, phone_number)\n\n    def extract_email(self, text):\n        \"\"\"\n        Extracts all emails from the text.\n\n        Parameters:\n            text (str): The text to extract emails from.\n\n        Returns:\n            list: A list of all emails in the text.\n\n        Test cases:\n            # Test case 1: Multiple emails\n            assert extract_email('test1@example.com abc test2@example.com') == ['test1@example.com', 'test2@example.com']\n\n            # Test case 2: No email\n            assert extract_email('abc def') == []\n\n            # Test case 3: Empty text\n            assert extract_email('') == []\n        \"\"\"\n        pattern = self.generate_email_pattern()\n        return self.findall(pattern, text)\n"}}], "usage": {"completion_tokens": 1629, "prompt_tokens": 1533, "total_tokens": 3162}, "feeType": "1", "consume": 2.088876}, "test_case_name": "RegexUtils.txt"}